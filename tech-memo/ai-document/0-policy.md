# ai document

## Geminiによるコード生成のための文書要件

Geminiがコードを正確に生成するために、要件書や設計書には以下の要素が求められます。

### 1. 明確性と一貫性 (Clarity & Consistency) 🎯

AIは文脈から意図を読み取りますが、曖昧な表現は誤解の元です。

* **一意な言葉を使う**: 「ユーザー」「顧客」「利用者」のような類似用語は、ドキュメント全体で一つに統一します。最初に用語集（Glossary）を定義するのが理想です。
* **具体的な記述**: 「高速に処理する」のような曖昧な表現ではなく、「リクエストから500ミリ秒以内にレスポンスを返す」のように定量的に記述します。
* **簡潔な文章**: 一文を短く、主語と述語を明確にして記述します。

### 2. 構造化されたフォーマット (Structured Format) 📝

AIがドキュメントの階層や関連性を理解しやすくするために、構造化されたフォーマットが不可欠です。

* **推奨フォーマット**: **Markdown**形式を強く推奨します。見出し（`#`, `##`）、リスト（`-`, `1.`）、テーブル、コードブロック（` ``` `）を使って、情報を整理しやすいためです。
* **非推奨フォーマット**: PDFやWord文書は、書式情報が失われたり、AIが正しく解釈できない可能性があるため、可能な限り避けてください。
* **データ定義**: APIの仕様やデータモデルなど、厳密な構造を持つ情報は**JSON**や**YAML**形式で記述すると、より正確に解釈されます。（例: OpenAPI仕様）

### 3. 十分な詳細レベル (Sufficient Level of Detail) ⚙️

「何を」「どのように」作るのかをAIが理解できるだけの、具体的な情報が必要です。

#### **要件定義に含めるべきこと**

* **機能要件**: システムが「何をするか」を定義します。
    * **ユーザーシナリオ（or ユーザーストーリー）**: 「[役割]として、[目的]のために[機能]ができる」という形式で記述すると、機能の背景が伝わりやすくなります。
    * **入出力**: その機能が何を受け取り（入力）、何を返すか（出力）を明記します。
* **非機能要件**: 品質や制約に関する要件です。
    * **パフォーマンス**: レスポンス時間、スループットなど。
    * **セキュリティ**: 認証方法、パスワードポリシー、アクセス制御など。
    * **使用する技術スタック**: プログラミング言語、フレームワーク、データベースなどを指定します。（例: `言語: Python`, `フレームワーク: FastAPI`, `DB: PostgreSQL`）

#### **設計書に含めるべきこと**

* **データモデル（データベース設計）**:
    * テーブル名、カラム名、データ型、制約（主キー、外部キー、NOT NULLなど）を**テーブル形式**で記述します。
    * テーブル間のリレーションシップ（1対多、多対多など）も明記します。

* **API設計**:
    * エンドポイントのパス（例: `/users/{id}`）
    * HTTPメソッド（`GET`, `POST`, `PUT`, `DELETE`）
    * リクエストの形式（パラメータ、ヘッダー、ボディのJSON構造）
    * レスポンスの形式（成功時のステータスコードとJSON構造、エラー時の情報）

* **画面設計**:
    * 画面に含まれるUIコンポーネント（テキストボックス、ボタン、リストなど）をリストアップします。
    * 各コンポーネントの動作（例: 「登録ボタンをクリックしたら、ユーザー登録APIを呼び出す」）を記述します。

* **ビジネスロジック**:
    * 特定の処理（例: パスワード再設定フロー）を、箇条書きや擬似コード（Pseudocode）でステップバイステップに記述します。
